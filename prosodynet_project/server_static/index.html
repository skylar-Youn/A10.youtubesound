<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProsodyNet Emotion TTS</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <main class="container">
        <header>
            <h1>ProsodyNet ê°ì • ìŒì„± í•©ì„±</h1>
            <p>ë¬¸ì¥ì„ ì…ë ¥í•˜ê³  ê°ì •ì„ ì„ íƒí•˜ë©´ ProsodyNetì´ TTS ìŒì„±ì„ ê°ì •í™”í•©ë‹ˆë‹¤.</p>
        </header>

        <section class="card">
            <form id="synth-form">
                <label class="field">
                    <span>í•©ì„±í•  ë¬¸ì¥</span>
                    <textarea id="text-input" rows="4" placeholder="ì˜ˆ: ì•ˆë…•í•˜ì„¸ìš”, ì˜¤ëŠ˜ ê¸°ë¶„ì´ ì–´ë–¤ê°€ìš”?" required></textarea>
                </label>

                <fieldset class="field">
                    <legend>
                        <label class="inline">
                            <input id="use-prosodynet" type="checkbox" checked>
                            ProsodyNet ê°ì • ë³€í™˜ ì‚¬ìš©
                        </label>
                    </legend>
                    <div id="prosodynet-config">
                        <div class="help-block">
                            <p><strong>ESD ë°ì´í„°ì…‹ ê¸°ë°˜ í•™ìŠµ</strong></p>
                            <ul>
                                <li>í™”ì: 20ëª… (English 10ëª… + Mandarin 10ëª…)</li>
                                <li>ê°ì •: 5ê°œ (Neutral, Happy, Sad, Angry, Surprise)</li>
                                <li>ê° ê°ì •ë‹¹ 7,000ê°œ ìŒì„± íŒŒì¼</li>
                                <li>ì´ 35,000ê°œ ë³‘ë ¬ ë°œí™” ë°ì´í„°</li>
                            </ul>
                            <p><strong>ì‹œìŠ¤í…œ ì •ë³´</strong></p>
                            <ul>
                                <li>CPU: <span id="cpu-info">ë¡œë”© ì¤‘...</span></li>
                                <li>ì²˜ë¦¬ ë°©ì‹: 16ì½”ì–´ ë³‘ë ¬ ì²˜ë¦¬ë¡œ ì „ì²˜ë¦¬ ìˆ˜í–‰</li>
                            </ul>
                        </div>
                        <label class="field">
                            <span>í™”ì ì„ íƒ (Speaker)</span>
                            <select id="speaker-select">
                                <option value="0001">0001 - English Speaker 1</option>
                                <option value="0002">0002 - English Speaker 2</option>
                                <option value="0003">0003 - English Speaker 3</option>
                                <option value="0004">0004 - English Speaker 4</option>
                                <option value="0005">0005 - English Speaker 5</option>
                                <option value="0006">0006 - English Speaker 6</option>
                                <option value="0007">0007 - English Speaker 7</option>
                                <option value="0008">0008 - English Speaker 8</option>
                                <option value="0009">0009 - English Speaker 9</option>
                                <option value="0010">0010 - English Speaker 10</option>
                                <option value="0011">0011 - Mandarin Speaker 1</option>
                                <option value="0012">0012 - Mandarin Speaker 2</option>
                                <option value="0013">0013 - Mandarin Speaker 3</option>
                                <option value="0014">0014 - Mandarin Speaker 4</option>
                                <option value="0015">0015 - Mandarin Speaker 5</option>
                                <option value="0016">0016 - Mandarin Speaker 6</option>
                                <option value="0017">0017 - Mandarin Speaker 7</option>
                                <option value="0018">0018 - Mandarin Speaker 8</option>
                                <option value="0019">0019 - Mandarin Speaker 9</option>
                                <option value="0020">0020 - Mandarin Speaker 10</option>
                            </select>
                        </label>
                        <label class="field">
                            <span>ê°ì •</span>
                            <select id="emotion-select">
                                <option value="0">0 - Neutral (ì¤‘ë¦½)</option>
                                <option value="1">1 - Happy (ê¸°ì¨)</option>
                                <option value="2">2 - Sad (ìŠ¬í””)</option>
                                <option value="3">3 - Angry (í™”ë‚¨)</option>
                                <option value="4">4 - Surprise (ë†€ëŒ)</option>
                            </select>
                        </label>
                    </div>
                </fieldset>

                <fieldset class="field">
                    <legend>TTS ì—”ì§„</legend>
                    <label class="inline">
                        <input type="radio" name="tts-engine" value="coqui" checked>
                        Coqui TTS
                    </label>
                    <label class="inline">
                        <input type="radio" name="tts-engine" value="orpheus">
                        Orpheus TTS
                    </label>

                    <div id="coqui-config" class="field">
                        <label class="field">
                            <span>TTS ëª¨ë¸ ID</span>
                            <input id="tts-model" type="text" value="tts_models/multilingual/multi-dataset/xtts_v2">
                        </label>
                    </div>

                    <div id="orpheus-config" class="field hidden">
                        <label class="field">
                            <span>Orpheus Voice</span>
                            <select id="orpheus-voice">
                                <option value="tara">Tara</option>
                                <option value="leah">Leah</option>
                                <option value="jess">Jess</option>
                                <option value="leo">Leo</option>
                                <option value="dan">Dan</option>
                                <option value="mia">Mia</option>
                                <option value="zac">Zac</option>
                                <option value="zoe">Zoe</option>
                            </select>
                        </label>
                    </div>
                </fieldset>

                <fieldset class="field" id="vocoder-section">
                    <legend>Vocoder (ProsodyNetìš©)</legend>
                    <label class="inline">
                        <input type="radio" name="vocoder-mode" value="griffinlim" checked>
                        Griffin-Lim
                    </label>
                    <label class="inline">
                        <input type="radio" name="vocoder-mode" value="hifigan">
                        HiFi-GAN
                    </label>

                    <div id="hifigan-config" class="grid hidden">
                        <label class="field">
                            <span>Generator ëª¨ë“ˆ (ì˜ˆ: vocoder.hifigan_generator)</span>
                            <input id="hifigan-module" type="text" placeholder="ì„ íƒ">
                        </label>
                        <label class="field">
                            <span>Generator ì²´í¬í¬ì¸íŠ¸ ê²½ë¡œ</span>
                            <input id="hifigan-ckpt" type="text" placeholder="ì„ íƒ">
                        </label>
                        <label class="field">
                            <span>Config JSON ê²½ë¡œ</span>
                            <input id="hifigan-config-path" type="text" placeholder="ì„ íƒ">
                        </label>
                    </div>
                </fieldset>

                <fieldset class="field">
                    <legend>
                        <label class="inline">
                            <input id="use-rvc" type="checkbox">
                            RVC í›„ì²˜ë¦¬ ì‚¬ìš©
                        </label>
                    </legend>
                    <div id="rvc-config" class="grid hidden">
                        <div class="help-block">
                            <p>ProsodyNetì´ ìƒì„±í•œ ê°ì • ìŒì„±ì„ RVCë¡œ ë³€í™˜í•˜ë ¤ë©´ ì•„ë˜ í•­ëª©ì„ ëª¨ë‘ ì±„ì›Œì•¼ í•©ë‹ˆë‹¤.</p>
                            <p>RVC CLIëŠ” `python infer-web.py`ì²˜ëŸ¼ ì§ì ‘ ì‹¤í–‰í•  ëª…ë ¹ì´ë©°, ì„œë²„ëŠ” ìë™ìœ¼ë¡œ `--input_path`, `--output_path`, `--pth_path`, `--config_path`, `--f0method`, `--pitch_shift` ì¸ìë¥¼ ë’¤ì— ë¶™ì…ë‹ˆë‹¤.</p>
                            <p>ëª©ë¡ì—ì„œ ì„ íƒí•œ `.pth`/ì„¤ì • íŒŒì¼ì´ ìƒëŒ€ê²½ë¡œë¼ë©´ ìœ„ì˜ RVC ê¸°ë³¸ ê²½ë¡œì™€ í•©ì³ì ¸ ì „ë‹¬ë©ë‹ˆë‹¤.</p>
                        </div>
                        <label class="field">
                            <span>RVC ê¸°ë³¸ ê²½ë¡œ</span>
                            <div class="row">
                                <input id="rvc-base" type="text" value="/home/sk/ws/SD/RVC_TRAIN/Mangio-RVC-v23.7.0/weights" placeholder="ì˜ˆ: /home/.../weights">
                                <button id="rvc-refresh" type="button" class="secondary-button">ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°</button>
                            </div>
                        </label>
                        <label class="field">
                            <span>RVC CLI (ì˜ˆ: python infer-web.py)</span>
                            <input id="rvc-cli" type="text" value="python infer-web.py" placeholder="ì„ íƒ">
                        </label>
                        <label class="field">
                            <span>RVC ëª¨ë¸ (.pth)</span>
                            <input id="rvc-pth" type="text" value="logs/mi-test7/G_2333333.pth" placeholder="ì„ íƒ ë˜ëŠ” ì§ì ‘ ì…ë ¥" list="rvc-pth-options">
                            <datalist id="rvc-pth-options"></datalist>
                        </label>
                        <label class="field">
                            <span>RVC Config ê²½ë¡œ</span>
                            <input id="rvc-config-path" type="text" value="logs/mi-test7/config.json" placeholder="ì„ íƒ ë˜ëŠ” ì§ì ‘ ì…ë ¥" list="rvc-config-options">
                            <datalist id="rvc-config-options"></datalist>
                        </label>
                    </div>
                </fieldset>

                <button id="synth-btn" type="submit">í•©ì„± ì‹¤í–‰</button>
            </form>
            <div id="status" class="status">ì¤€ë¹„ ì™„ë£Œ</div>
        </section>

        <section id="results" class="card hidden">
            <h2>ê²°ê³¼</h2>
            <ul>
                <li><span>ì¤‘ë¦½ ìŒì„±:</span> <audio id="neutral-audio" controls></audio></li>
                <li><span>ê°ì • ë©œ ìŠ¤í™íŠ¸ë¡œê·¸ë¨:</span> <a id="mel-link" href="#" download>ë‹¤ìš´ë¡œë“œ</a></li>
                <li><span>ê°ì • ìŒì„±:</span> <audio id="emotional-audio" controls></audio></li>
                <li id="ckpt-line"></li>
            </ul>
            <div class="button-group">
                <button id="download-all-btn" type="button" class="secondary-button">ğŸ“¥ ì „ì²´ ë‹¤ìš´ë¡œë“œ</button>
                <button id="browse-files-btn" type="button" class="secondary-button">ğŸ“‚ ì „ì²´ íŒŒì¼ ì°¾ê¸°</button>
            </div>
        </section>

        <section id="file-browser" class="card hidden">
            <h2>ì„œë²„ íŒŒì¼ ëª©ë¡</h2>
            <div id="file-list" class="file-list"></div>
        </section>
    </main>

    <script src="/static/app.js" type="module"></script>
</body>
</html>
